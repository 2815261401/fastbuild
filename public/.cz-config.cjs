const type = {
  format: {
    emoji: '🎨',
    entity: '&#x1f3a8;',
    code: ':art:',
    title: '调整格式',
    description: '改进代码的结构/格式。',
    semver: null,
  },
  perf: {
    emoji: '⚡️',
    entity: '&#x26a1;',
    code: ':zap:',
    title: '提高性能',
    description: '提高性能。',
    semver: 'patch',
  },
  remove: {
    emoji: '🔥',
    entity: '&#x1f525;',
    code: ':fire:',
    title: '移除代码',
    description: '移除代码或文件。',
    semver: null,
  },
  fix: {
    emoji: '🐛',
    entity: '&#x1f41b;',
    code: ':bug:',
    title: '修复错误',
    description: '修复错误。',
    semver: 'patch',
  },
  hotfix: {
    emoji: '🚑️',
    entity: '&#128657;',
    code: ':ambulance:',
    title: '紧急修复',
    description: '关键的热修复补丁。',
    semver: 'patch',
  },
  feat: {
    emoji: '✨',
    entity: '&#x2728;',
    code: ':sparkles:',
    title: '新增功能',
    description: '引入新功能。',
    semver: 'minor',
  },
  docs: {
    emoji: '📝',
    entity: '&#x1f4dd;',
    code: ':memo:',
    title: '更新文档',
    description: '添加或更新文档。',
    semver: null,
  },
  deploy: {
    emoji: '🚀',
    entity: '&#x1f680;',
    code: ':rocket:',
    title: '部署配置',
    description: '部署的配置。',
    semver: null,
  },
  style: {
    emoji: '💄',
    entity: '&#ff99cc;',
    code: ':lipstick:',
    title: '更新样式',
    description: '添加或更新UI和样式文件。',
    semver: 'patch',
  },
  begin: {
    emoji: '🎉',
    entity: '&#127881;',
    code: ':tada:',
    title: '新建项目',
    description: '新开始一个项目。',
    semver: null,
  },
  test: {
    emoji: '✅',
    entity: '&#x2705;',
    code: ':white_check_mark:',
    title: '测试修改',
    description: '添加、更新或通过测试。',
    semver: null,
  },
  issues: {
    emoji: '🔒️',
    entity: '&#x1f512;',
    code: ':lock:',
    title: '修复问题',
    description: '修复安全或隐私问题。',
    semver: 'patch',
  },
  secrets: {
    emoji: '🔐',
    entity: '&#x1f510;',
    code: ':closed_lock_with_key:',
    title: '加密数据',
    description: '添加或更新加密数据。',
    semver: null,
  },
  version: {
    emoji: '🔖',
    entity: '&#x1f516;',
    code: ':bookmark:',
    title: '版本标签',
    description: '发布/版本标签。',
    semver: null,
  },
  warning: {
    emoji: '🚨',
    entity: '&#x1f6a8;',
    code: ':rotating_light:',
    title: '修复警告',
    description: '修复编译器/过滤器警告。',
    semver: null,
  },
  inwork: {
    emoji: '🚧',
    entity: '&#x1f6a7;',
    code: ':construction:',
    title: '进行中的',
    description: '未完成的任务或项目，仍在进行中。',
    semver: null,
  },
  fixci: {
    emoji: '💚',
    entity: '&#x1f49a;',
    code: ':green_heart:',
    title: '修复CI',
    description: '修复CI构建。',
    semver: null,
  },
  downdepend: {
    emoji: '⬇️',
    entity: '⬇️',
    code: ':arrow_down:',
    title: '降级依赖',
    description: '降级依赖项。',
    semver: 'patch',
  },
  updepend: {
    emoji: '⬆️',
    entity: '⬆️',
    code: ':arrow_up:',
    title: '升级依赖',
    description: '升级依赖项。',
    semver: 'patch',
  },
  fixeddepend: {
    emoji: '📌',
    entity: '&#x1F4CC;',
    code: ':pushpin:',
    title: '固定依赖',
    description: '将依赖项固定到特定的版本。',
    semver: 'patch',
  },
  ci: {
    emoji: '👷',
    entity: '&#x1f477;',
    code: ':construction_worker:',
    title: 'CI构建',
    description: '添加或更新CI构建系统。',
    semver: null,
  },
  trackcode: {
    emoji: '📈',
    entity: '&#x1F4C8;',
    code: ':chart_with_upwards_trend:',
    title: '跟踪代码',
    description: '添加或更新分析或跟踪代码。',
    semver: 'patch',
  },
  refactor: {
    emoji: '♻️',
    entity: '&#x267b;',
    code: ':recycle:',
    title: '重构代码',
    description: '重构代码。',
    semver: null,
  },
  adddepend: {
    emoji: '➕',
    entity: '&#10133;',
    code: ':heavy_plus_sign:',
    title: '添加依赖',
    description: '添加依赖项。',
    semver: 'patch',
  },
  removedepend: {
    emoji: '➖',
    entity: '&#10134;',
    code: ':heavy_minus_sign:',
    title: '移除依赖',
    description: '移除依赖项。',
    semver: 'patch',
  },
  configuration: {
    emoji: '🔧',
    entity: '&#x1f527;',
    code: ':wrench:',
    title: '更新配置',
    description: '添加或更新配置文件。',
    semver: 'patch',
  },
  scripts: {
    emoji: '🔨',
    entity: '&#128296;',
    code: ':hammer:',
    title: '开发脚本',
    description: '添加或更新开发脚本。',
    semver: null,
  },
  internationalization: {
    emoji: '🌐',
    entity: '&#127760;',
    code: ':globe_with_meridians:',
    title: '国际语言',
    description: '国际化与本地化。',
    semver: 'patch',
  },
  typos: {
    emoji: '✏️',
    entity: '&#59161;',
    code: ':pencil2:',
    title: '修复拼写',
    description: '修复拼写错误。',
    semver: 'patch',
  },
  badcode: {
    emoji: '💩',
    entity: '&#58613;',
    code: ':poop:',
    title: '糟糕代码',
    description: '编写需要改进的糟糕代码。',
    semver: null,
  },
  revert: {
    emoji: '⏪️',
    entity: '&#9194;',
    code: ':rewind:',
    title: '回退代码',
    description: '恢复之前的提交。',
    semver: 'patch',
  },
  merge: {
    emoji: '🔀',
    entity: '&#128256;',
    code: ':twisted_rightwards_arrows:',
    title: '合并分支',
    description: '合并分支。',
    semver: null,
  },
  compiled: {
    emoji: '📦️',
    entity: '&#1F4E6;',
    code: ':package:',
    title: '已编译的',
    description: '添加或更新已编译的文件或包。',
    semver: 'patch',
  },
  external: {
    emoji: '👽️',
    entity: '&#1F47D;',
    code: ':alien:',
    title: '外部API',
    description: '由于外部API更改而更新代码。',
    semver: 'patch',
  },
  renamepath: {
    emoji: '🚚',
    entity: '&#1F69A;',
    code: ':truck:',
    title: '路径变更',
    description: '移动或重命名资源(例如:文件、路径、路由)。',
    semver: null,
  },
  license: {
    emoji: '📄',
    entity: '&#1F4C4;',
    code: ':page_facing_up:',
    title: '许可证',
    description: '添加或更新许可证。',
    semver: null,
  },
  breaking: {
    emoji: '💥',
    entity: '&#x1f4a5;',
    code: ':boom:',
    title: '重要更新',
    description: '突破性的更新。',
    semver: 'major',
  },
  assets: {
    emoji: '🍱',
    entity: '&#1F371',
    code: ':bento:',
    title: '更新资源',
    description: '添加或更新资源。',
    semver: 'patch',
  },
  access: {
    emoji: '♿️',
    entity: '&#9855;',
    code: ':wheelchair:',
    title: '提高访问',
    description: '提高可访问性。',
    semver: 'patch',
  },
  comments: {
    emoji: '💡',
    entity: '&#128161;',
    code: ':bulb:',
    title: '更新注释',
    description: '在源代码中添加或更新注释。',
    semver: null,
  },
  drunkenly: {
    emoji: '🍻',
    entity: '&#x1f37b;',
    code: ':beers:',
    title: '迷之代码',
    description: '迷迷糊糊的代码。',
    semver: null,
  },
  text: {
    emoji: '💬',
    entity: '&#128172;',
    code: ':speech_balloon:',
    title: '更新文本',
    description: '添加或更新文本和文字。',
    semver: 'patch',
  },
  database: {
    emoji: '🗃️',
    entity: '&#128451;',
    code: ':card_file_box:',
    title: '数据库',
    description: '执行与数据库相关的更改。',
    semver: 'patch',
  },
  logs: {
    emoji: '🔊',
    entity: '&#128266;',
    code: ':loud_sound:',
    title: '更新日志',
    description: '添加或更新日志。',
    semver: null,
  },
  removelogs: {
    emoji: '🔇',
    entity: '&#128263;',
    code: ':mute:',
    title: '移除日志',
    description: '移除日志。',
    semver: null,
  },
  contributor: {
    emoji: '👥',
    entity: '&#128101;',
    code: ':busts_in_silhouette:',
    title: '贡献者',
    description: '添加或更新贡献者。',
    semver: null,
  },
  usability: {
    emoji: '🚸',
    entity: '&#128696;',
    code: ':children_crossing:',
    title: '用户体验',
    description: '改善用户体验/可用性。',
    semver: 'patch',
  },
  architectural: {
    emoji: '🏗️',
    entity: '&#1f3d7;',
    code: ':building_construction:',
    title: '架构更改',
    description: '进行架构更改。',
    semver: null,
  },
  responsive: {
    emoji: '📱',
    entity: '&#128241;',
    code: ':iphone:',
    title: '响应式',
    description: '响应式设计支持。',
    semver: 'patch',
  },
  mock: {
    emoji: '🤡',
    entity: '&#129313;',
    code: ':clown_face:',
    title: '模拟数据',
    description: 'Mock相关的更改。',
    semver: null,
  },
  egg: {
    emoji: '🥚',
    entity: '&#129370;',
    code: ':egg:',
    title: '更新彩蛋',
    description: '添加或更新彩蛋。',
    semver: 'patch',
  },
  gitignore: {
    emoji: '🙈',
    entity: '&#8bdfe7;',
    code: ':see_no_evil:',
    title: 'gitignore',
    description: '添加或更新.gitignore文件。',
    semver: null,
  },
  snapshots: {
    emoji: '📸',
    entity: '&#128248;',
    code: ':camera_flash:',
    title: '更新快照',
    description: '添加或更新快照。',
    semver: null,
  },
  experiments: {
    emoji: '⚗️',
    entity: '&#x2697;',
    code: ':alembic:',
    title: '实验性',
    description: '对实验性功能的开发。',
    semver: 'patch',
  },
  SEO: {
    emoji: '🔍️',
    entity: '&#128269;',
    code: ':mag:',
    title: '搜索引擎',
    description: '改善搜索引擎优化。',
    semver: 'patch',
  },
  types: {
    emoji: '🏷️',
    entity: '&#127991;',
    code: ':label:',
    title: '更新类型',
    description: '添加或更新类型。',
    semver: 'patch',
  },
  seed: {
    emoji: '🌱',
    entity: '&#127793;',
    code: ':seedling:',
    title: '更新种子',
    description: '添加或更新种子文件。',
    semver: null,
  },
  feature: {
    emoji: '🚩',
    entity: '&#x1F6A9;',
    code: ':triangular_flag_on_post:',
    title: '功能标志',
    description: '添加、更新或删除功能标志。',
    semver: 'patch',
  },
  catcherrors: {
    emoji: '🥅',
    entity: '&#x1F945;',
    code: ':goal_net:',
    title: '捕捉错误',
    description: '捕捉错误。',
    semver: 'patch',
  },
  animations: {
    emoji: '💫',
    entity: '&#x1f4ab;',
    code: ':dizzy:',
    title: '动画过渡',
    description: '添加或更新动画和过渡。',
    semver: 'patch',
  },
  deprecate: {
    emoji: '🗑️',
    entity: '&#x1F5D1;',
    code: ':wastebasket:',
    title: '弃用代码',
    description: '弃用需要清理的代码。',
    semver: 'patch',
  },
  permissions: {
    emoji: '🛂',
    entity: '&#x1F6C2;',
    code: ':passport_control:',
    title: '权限相关',
    description: '编写与授权、角色和权限相关的代码。',
    semver: 'patch',
  },
  simplefix: {
    emoji: '🩹',
    entity: '&#x1FA79;',
    code: ':adhesive_bandage:',
    title: '简单修复',
    description: '对一个非关键问题(issue)的简单修复。',
    semver: 'patch',
  },
  inspection: {
    emoji: '🧐',
    entity: '&#x1F9D0;',
    code: ':monocle_face:',
    title: '数据检查',
    description: '数据探索/检查。',
    semver: null,
  },
  deadcode: {
    emoji: '⚰️',
    entity: '&#x26B0;',
    code: ':coffin:',
    title: '删除代码',
    description: '删除死代码。',
    semver: null,
  },
  failingtest: {
    emoji: '🧪',
    entity: '&#x1F9EA;',
    code: ':test_tube:',
    title: '失败测试',
    description: '添加失败的测试。',
    semver: null,
  },
  business: {
    emoji: '👔',
    entity: '&#128084;',
    code: ':necktie:',
    title: '业务逻辑',
    description: '添加或更新业务逻辑。',
    semver: 'patch',
  },
  healthcheck: {
    emoji: '🩺',
    entity: '&#x1FA7A;',
    code: ':stethoscope:',
    title: '健康检查',
    description: '添加或更新健康检查。',
    semver: null,
  },
  infrastructure: {
    emoji: '🧱',
    entity: '&#x1f9f1;',
    code: ':bricks:',
    title: '底层更改',
    description: '与基础架构相关的更改。',
    semver: null,
  },
  developer: {
    emoji: '🧑‍💻',
    entity: '&#129489;&#8205;&#128187;',
    code: ':technologist:',
    title: '改善体验',
    description: '改善开发人员体验。',
    semver: null,
  },
  sponsorships: {
    emoji: '💸',
    entity: '&#x1F4B8;',
    code: ':money_with_wings:',
    title: '赞助底层',
    description: '添加赞助或与金钱相关的基础设施。',
    semver: null,
  },
  multithreading: {
    emoji: '🧵',
    entity: '&#x1F9F5;',
    code: ':thread:',
    title: '多线程',
    description: '添加或更新与多线程或并发性相关的代码。',
    semver: null,
  },
  validation: {
    emoji: '🦺',
    entity: '&#x1F9BA;',
    code: ':safety_vest:',
    title: '更新验证',
    description: '添加或更新与验证相关的代码。',
    semver: null,
  },
};

const getType = (k, v) => {
  return `${v.code} ${k}`;
};

const types = Object.entries(type).map(([k, v]) => ({
  value: getType(k, v),
  name: `[${v.emoji}] ${v.title}: ${v.description}`,
}));

const typeEnum = types.map(({ value }) => value);

const fs = require('fs');
const path = require('path');
let scopes = [];
if (fs.existsSync(path.resolve(__dirname, 'src'))) {
  scopes = scopes.concat(
    fs
      .readdirSync(path.resolve(__dirname, 'src'), { withFileTypes: true })
      .filter((dirent) => dirent.isDirectory())
      .map((dirent) => dirent.name)
  );
}

/** @type {import('cz-customizable').Options} **/
module.exports = {
  /**
   * 获取类型方法
   */
  getType,
  /**
   * 类型合集
   * @type {typeof type}
   */
  type,
  /**
   * 类型
   * @type {typeof typeEnum}
   */
  typeEnum,
  /**
   * 类型
   *  @type {import('cz-customizable').Option}
   */
  types,
  /**
   * 作用域
   * @type {typeof scopes}
   */
  scopes,
  /** 覆盖消息，默认值如下 */
  messages: {
    type: '选择你要提交的类型 :',
    scope: '选择一个提交范围（可选）:',
    /** 当allowCustomScopes为true时使用 */
    customScope: '请输入自定义的提交范围 :',
    subject: '填写简短精炼的变更描述 :\n',
    body: '填写更加详细的变更描述（可选）。使用 "|" 换行 :\n',
    breaking: '列举非兼容性重大的变更（可选）。使用 "|" 换行 :\n',
    footer: '列举关联issue (可选)，使用 "|" 换行。 例如: #31, #I3244 :\n',
    confirmCommit: '是否提交或修改commit ?',
  },
  /** 是否允许自定义作用域 */
  allowCustomScopes: true,
  /** 允许重大的变更 */
  allowBreakingChanges: ['✨ feat', '🐛 fix'],
  /** 允许跳过的问题 */
  skipQuestions: ['body'],
  /** 是否允许添加分支名到提交消息中 */
  appendBranchNameToCommitMessage: true,
  /** 重大的变更前缀 */
  breakingPrefix: '',
  /** issue前缀 */
  footerPrefix: '',
  /** 提交描述最多字符数 */
  subjectLimit: 50,
};
